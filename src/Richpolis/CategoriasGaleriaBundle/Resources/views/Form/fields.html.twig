{# src/Richpolis/CategoriasGaleriaBundle/Resources/views/Form/fields.html.twig #}
{% extends 'form_div_layout.html.twig' %}

{% block imagen_widget %}
    {% spaceless %}
    {{ block('form_widget') }}
    <br/>
    {% if image_url is not null %}
        <img src="{{ asset(image_url) }}" style="max-width: 200px; max-height: 200px;"/>
    {% endif %}
    
    {% endspaceless %}
{% endblock %}

{% block audio_widget %}
    {% spaceless %}
    {{ block('form_widget') }}
    <br/>
    {% if audio_url is not null %}
        <audio id="audio-player" controls>
            <source src="{{audio_url}}" type="{{mime_type}}">
            Your browser does not support the audio tag.
        </audio>
    {% endif %}
    
    {% endspaceless %}
{% endblock %}

{% block video_widget %}
    {% spaceless %}
    {{ block('form_widget') }}
    <br/>
    {% if video_url is not null %}
        <video width="640" height="360"	id="player1" poster="{{thumbnail_url}}" controls="controls" preload="none">
		    <source type="{{mime_type}}" src="{{video_url}}" />
		    <object width="640" height="360" type="application/x-shockwave-flash" data="flashmediaelement.swf">
		        <param name="movie" value="{{ asset('/js/mediaelement/flashmediaelement.swf') }}" />
		        <param name="flashvars" value="controls=true&file={{video_url}}" />
		        <!-- Image as a last resort -->
		        <img src="{{thumbnail_url}}" width="640" height="360" title="No video playback capabilities" />
		    </object>
		</video>    
    {% endif %}
    {% endspaceless %}
{% endblock %}
